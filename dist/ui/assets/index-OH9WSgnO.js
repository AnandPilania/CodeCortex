import{o as S,w as Q,a as c,c as u,b as e,r as p,d as R,n as L,t as n,e as _,f as I,F as H,g as T,h as E,i as U}from"./vue-vendor-DvLKzReD.js";import{C as w,r as $}from"./chart-vendor-BR_H7_9u.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function l(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=l(r);fetch(r.href,o)}})();const P=(g,s)=>{const l=g.__vccOpts||g;for(const[i,r]of s)l[i]=r;return l},W={class:"chart-container"},q={__name:"LanguageChart",props:{data:{type:Object,default:null}},setup(g){w.register(...$);const s=g,l=p(null);let i=null;const r=()=>{if(!l.value||!s.data)return;i&&i.destroy();const o=l.value.getContext("2d");i=new w(o,{type:"doughnut",data:{labels:s.data.labels,datasets:[{data:s.data.values,backgroundColor:s.data.colors,borderWidth:2,borderColor:"#fff"}]},options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"bottom",labels:{padding:15,font:{size:12}}},tooltip:{callbacks:{label:function(d){const f=d.label||"",x=d.parsed,k=d.dataset.data.reduce((M,a)=>M+a,0),C=(x/k*100).toFixed(1);return`${f}: ${x} files (${C}%)`}}}}}})};return S(()=>{r()}),Q(()=>s.data,()=>{r()},{deep:!0}),(o,d)=>(c(),u("div",W,[e("canvas",{ref_key:"chartRef",ref:l},null,512)]))}},K=P(q,[["__scopeId","data-v-b9ad72db"]]),Z={class:"chart-container"},G={__name:"MetricsChart",props:{data:{type:Object,default:null}},setup(g){w.register(...$);const s=g,l=p(null);let i=null;const r=()=>{if(!l.value||!s.data)return;i&&i.destroy();const o=l.value.getContext("2d");i=new w(o,{type:"bar",data:{labels:s.data.labels,datasets:[{label:"Lines",data:s.data.values,backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(139, 92, 246, 0.8)"],borderColor:["rgb(59, 130, 246)","rgb(16, 185, 129)","rgb(245, 158, 11)","rgb(139, 92, 246)"],borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!0,scales:{y:{beginAtZero:!0,ticks:{callback:function(d){return d.toLocaleString()}}}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(d){return`${d.parsed.y.toLocaleString()} lines`}}}}}})};return S(()=>{r()}),Q(()=>s.data,()=>{r()},{deep:!0}),(o,d)=>(c(),u("div",Z,[e("canvas",{ref_key:"chartRef",ref:l},null,512)]))}},J=P(G,[["__scopeId","data-v-24bd05e7"]]),X={class:"min-h-screen bg-gray-50"},Y={class:"bg-white border-b border-gray-200 sticky top-0 z-50"},ee={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},te={class:"flex items-center justify-between"},se={class:"flex items-center space-x-4"},ae=["disabled"],re={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},oe={key:0,class:"text-center py-20"},le={key:1,class:"card border-danger-200 bg-danger-50"},ne={class:"flex items-start space-x-3"},ie={class:"text-lg font-semibold text-danger-900"},de={key:2},ce={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},ue={class:"stat-card"},ge={class:"flex items-center justify-between"},pe={class:"metric-value"},ve={class:"stat-card"},he={class:"flex items-center justify-between"},fe={class:"metric-value"},xe={class:"stat-card"},me={class:"flex items-center justify-between"},ye={class:"metric-value"},be={key:0,class:"stat-card"},_e={class:"flex items-center justify-between"},we={class:"metric-value"},ke={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},Ce={class:"card"},Me={class:"card"},je={key:0,class:"mb-8"},Le={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Se={class:"card"},ze={class:"space-y-3"},Oe={class:"flex justify-between items-center"},Be={class:"badge badge-danger"},Ve={class:"flex justify-between items-center"},De={class:"badge badge-warning"},Ne={class:"flex justify-between items-center"},Ae={class:"badge badge-warning"},Fe={class:"card"},Re={class:"space-y-3"},Ie={class:"flex justify-between items-center"},Qe={class:"badge badge-danger"},$e={class:"flex justify-between items-center"},Pe={class:"card"},He={class:"space-y-3"},Te={key:0},Ee={class:"text-sm font-medium text-gray-900 mt-1"},Ue={key:1},We={class:"text-sm font-medium text-gray-900 mt-1"},qe={class:"card"},Ke={class:"overflow-x-auto"},Ze={class:"min-w-full divide-y divide-gray-200"},Ge={class:"bg-white divide-y divide-gray-200"},Je={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Xe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ye={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},et={class:"px-6 py-4 whitespace-nowrap"},tt={class:"flex items-center"},st={class:"w-full bg-gray-200 rounded-full h-2 mr-2 max-w-[100px]"},at={class:"text-sm text-gray-600"},rt={key:3,class:"text-center py-20"},ot={class:"bg-white border-t border-gray-200 mt-16"},lt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},nt={class:"text-center text-sm text-gray-500"},it={__name:"App",setup(g){const s=p(null),l=p(!1),i=p(null),r=p("Never"),o=async()=>{l.value=!0,i.value=null;try{const a=await fetch("/api/analysis");if(!a.ok)throw new Error("No analysis data available");const t=await a.json();s.value=t,r.value=new Date(t.timestamp).toLocaleString()}catch(a){i.value=a.message}finally{l.value=!1}},d=a=>(a==null?void 0:a.toLocaleString())||"0",f=(a,t)=>!t||t===0?0:(a/t*100).toFixed(1),x=a=>a>=80?"bg-success-100 text-success-600":a>=60?"bg-warning-100 text-warning-600":"bg-danger-100 text-danger-600",k=a=>a>=80?"badge badge-success":a>=60?"badge badge-warning":"badge badge-danger",C=()=>{var v;if(!((v=s.value)!=null&&v.driverMetrics))return null;const a=[],t=[],m=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#84cc16"];return Object.entries(s.value.driverMetrics).forEach(([y,h],j)=>{h.files>0&&(a.push(y),t.push(h.files))}),{labels:a,values:t,colors:m.slice(0,a.length)}},M=()=>{var t;if(!((t=s.value)!=null&&t.aggregateMetrics))return null;const a=s.value.aggregateMetrics;return{labels:["LOC","CLOC","NCLOC","LLOC"],values:[a.loc||0,a.cloc||0,a.ncloc||0,a.lloc||0]}};return S(()=>{o(),setInterval(o,3e4)}),(a,t)=>{var m,v,y,h,j,z,O,B,V,D,N,A;return c(),u("div",X,[e("header",Y,[e("div",ee,[e("div",te,[t[1]||(t[1]=R('<div class="flex items-center space-x-3"><div class="w-10 h-10 bg-linear-to-br from-primary-500 to-primary-700 rounded-lg flex items-center justify-center"><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg></div><div><h1 class="text-xl font-bold text-gray-900">CodeCortex</h1><p class="text-xs text-gray-500">Code Quality Dashboard</p></div></div>',1)),e("div",se,[e("button",{onClick:o,disabled:l.value,class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2"},[(c(),u("svg",{class:L(["w-4 h-4",{"animate-spin":l.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[0]||(t[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2)),e("span",null,n(l.value?"Refreshing...":"Refresh"),1)],8,ae)])])])]),e("main",re,[l.value&&!s.value?(c(),u("div",oe,[...t[2]||(t[2]=[e("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"},null,-1),e("p",{class:"mt-4 text-gray-600"},"Loading analysis data...",-1)])])):i.value?(c(),u("div",le,[e("div",ne,[t[5]||(t[5]=e("svg",{class:"w-6 h-6 text-danger-500 shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",null,[e("h3",ie,n(i.value),1),t[3]||(t[3]=e("p",{class:"text-sm text-danger-700 mt-1"},"Run the analyzer with --ui flag to generate data",-1)),t[4]||(t[4]=e("pre",{class:"mt-2 text-xs bg-white p-3 rounded-sm border border-danger-200 text-gray-700"},"project-analyzer . --ui",-1))])])])):s.value?(c(),u("div",de,[e("div",ce,[e("div",ue,[e("div",ge,[e("div",null,[e("div",pe,n(((m=s.value.globalStats)==null?void 0:m.totalFiles)||0),1),t[6]||(t[6]=e("div",{class:"metric-label"},"Total Files",-1))]),t[7]||(t[7]=e("div",{class:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})])],-1))])]),e("div",ve,[e("div",he,[e("div",null,[e("div",fe,n(d((v=s.value.aggregateMetrics)==null?void 0:v.loc)),1),t[8]||(t[8]=e("div",{class:"metric-label"},"Lines of Code",-1))]),t[9]||(t[9]=e("div",{class:"w-12 h-12 bg-success-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-success-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})])],-1))])]),e("div",xe,[e("div",me,[e("div",null,[e("div",ye,n(((h=(y=s.value.globalStats)==null?void 0:y.directories)==null?void 0:h.size)||0),1),t[10]||(t[10]=e("div",{class:"metric-label"},"Directories",-1))]),t[11]||(t[11]=e("div",{class:"w-12 h-12 bg-warning-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-warning-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})])],-1))])]),((j=s.value.enhancedMetrics)==null?void 0:j.codeQualityScore)!==void 0?(c(),u("div",be,[e("div",_e,[e("div",null,[e("div",we,n(s.value.enhancedMetrics.codeQualityScore)+"/100",1),t[12]||(t[12]=e("div",{class:"metric-label"},"Quality Score",-1))]),e("div",{class:L(["w-12 h-12 rounded-lg flex items-center justify-center",x(s.value.enhancedMetrics.codeQualityScore)])},[...t[13]||(t[13]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])],2)])])):_("",!0)]),e("div",ke,[e("div",Ce,[t[14]||(t[14]=e("h3",{class:"card-header"},"Language Distribution",-1)),I(K,{data:C()},null,8,["data"])]),e("div",Me,[t[15]||(t[15]=e("h3",{class:"card-header"},"Code Metrics",-1)),I(J,{data:M()},null,8,["data"])])]),s.value.enhancedMetrics?(c(),u("div",je,[t[26]||(t[26]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-4"},"Laravel Analysis",-1)),e("div",Le,[e("div",Se,[t[19]||(t[19]=e("h3",{class:"card-header"},"Dead Code Analysis",-1)),e("div",ze,[e("div",Oe,[t[16]||(t[16]=e("span",{class:"text-sm text-gray-600"},"Unused Classes",-1)),e("span",Be,n(((O=(z=s.value.enhancedMetrics.deadCode)==null?void 0:z.unusedClasses)==null?void 0:O.length)||0),1)]),e("div",Ve,[t[17]||(t[17]=e("span",{class:"text-sm text-gray-600"},"Unused Methods",-1)),e("span",De,n(((V=(B=s.value.enhancedMetrics.deadCode)==null?void 0:B.unusedMethods)==null?void 0:V.length)||0),1)]),e("div",Ne,[t[18]||(t[18]=e("span",{class:"text-sm text-gray-600"},"Unused Imports",-1)),e("span",Ae,n(((N=(D=s.value.enhancedMetrics.deadCode)==null?void 0:D.unusedImports)==null?void 0:N.length)||0),1)])])]),e("div",Fe,[t[22]||(t[22]=e("h3",{class:"card-header"},"Code Quality",-1)),e("div",Re,[e("div",Ie,[t[20]||(t[20]=e("span",{class:"text-sm text-gray-600"},"Duplicate Blocks",-1)),e("span",Qe,n(((A=s.value.enhancedMetrics.duplicateCode)==null?void 0:A.length)||0),1)]),e("div",$e,[t[21]||(t[21]=e("span",{class:"text-sm text-gray-600"},"Quality Score",-1)),e("span",{class:L(k(s.value.enhancedMetrics.codeQualityScore))},n(s.value.enhancedMetrics.codeQualityScore)+"/100 ",3)])])]),e("div",Pe,[t[25]||(t[25]=e("h3",{class:"card-header"},"Project Info",-1)),e("div",He,[s.value.enhancedMetrics.projectType?(c(),u("div",Te,[t[23]||(t[23]=e("span",{class:"text-sm text-gray-600"},"Type",-1)),e("p",Ee,n(s.value.enhancedMetrics.projectType),1)])):_("",!0),s.value.enhancedMetrics.laravelVersion?(c(),u("div",Ue,[t[24]||(t[24]=e("span",{class:"text-sm text-gray-600"},"Laravel Version",-1)),e("p",We,n(s.value.enhancedMetrics.laravelVersion),1)])):_("",!0)])])])])):_("",!0),e("div",qe,[t[28]||(t[28]=e("h3",{class:"card-header"},"File Breakdown by Type",-1)),e("div",Ke,[e("table",Ze,[t[27]||(t[27]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Language"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Files"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"LOC"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Percentage")])],-1)),e("tbody",Ge,[(c(!0),u(H,null,T(s.value.driverMetrics,(b,F)=>(c(),u("tr",{key:F},[e("td",Je,n(F),1),e("td",Xe,n(b.files||0),1),e("td",Ye,n(d(b.loc)),1),e("td",et,[e("div",tt,[e("div",st,[e("div",{class:"bg-primary-600 h-2 rounded-full",style:E({width:f(b.files,s.value.globalStats.analyzedFiles)+"%"})},null,4)]),e("span",at,n(f(b.files,s.value.globalStats.analyzedFiles))+"%",1)])])]))),128))])])])])])):(c(),u("div",rt,[...t[29]||(t[29]=[R('<svg class="mx-auto h-24 w-24 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg><h3 class="mt-4 text-lg font-medium text-gray-900">No Analysis Data</h3><p class="mt-2 text-sm text-gray-500">Run the analyzer with --ui flag to see results here</p><div class="mt-6"><pre class="inline-block text-left bg-gray-100 px-4 py-3 rounded-lg text-sm text-gray-700">project-analyzer . --ui</pre></div>',4)])]))]),e("footer",ot,[e("div",lt,[e("p",nt," CodeCortex Dashboard â€¢ Last updated: "+n(r.value),1)])])])}}},dt=U(it);dt.mount("#app");
